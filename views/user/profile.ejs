<%- include('./partials/user_nav') %>

<style>
  .profile-container {
    position: relative;
    display: inline-block;
  }

  .profile-img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #ccc;
    cursor: pointer;
    transition: opacity 0.3s ease;
  }

  .overlay-upload {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.3s ease;
    background: rgba(0, 0, 0, 0.4);
    color: white;
    font-size: 14px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .profile-container:hover .overlay-upload {
    opacity: 1;
  }

  #profileImageInput {
    display: none;
  }
</style>

<div class="container mt-5">
  <h2 class="mb-4">User Profile</h2>

  <div class="card p-4">
    <div class="text-center mb-3">
      <% if (user.profile_image) { %>
        <img src="/uploads/<%= user.profile_image %>" width="150" class="rounded-circle" />
      <% } else { %>
        <p>No Profile Image</p>
      <% } %>
    </div>

    <p><strong>Name:</strong> <%= user.name %></p>
    <p><strong>Email:</strong> <%= user.email %></p>
    <p><strong>Phone:</strong> <%= user.phone %></p>
    <p><strong>Role:</strong> <%= user.role %></p>

    <form action="/user/profile/upload" method="POST" enctype="multipart/form-data" class="mt-4">
      <div class="mb-3">
        <input type="file" name="profileImage" accept="image/*" class="form-control" required />
      </div>
      <button class="btn btn-primary">Upload Profile Picture</button>
    </form>
  </div>
</div>
